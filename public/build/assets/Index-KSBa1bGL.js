import{_ as b}from"./Pagination-eDnx4Gf3.js";import{_ as k,bM as y,aV as w,c as d,a as e,F as L,aT as S,P as m,o as c,b7 as a,bA as P,e as T,O as B}from"./app-cpAAYSkm.js";const D={name:"MangeOrder",components:{Pagination:b},data(){return{review:{},orderDetails:{},user:User.userInfo(),reviewtatusList:[{name:"Pending"},{name:"Received"},{name:"Process"},{name:"Shipped"},{name:"Delivered"},{name:"Cancel"}],paymentStatusList:[{name:"Pending"},{name:"Cancelled"},{name:"Paid"}],reviewtatus:null,paymentStatus:null}},methods:{allOrder(n){var s;this.$axios.get(n??"/api/review",{headers:{Authorization:`Bearer ${(s=this.user)==null?void 0:s.token}`}}).then(o=>{this.review=o.data}).catch(o=>{o.response.data.errors,Toast.fire({icon:"warning",title:o.response.statusText})})},showSingleOrder(n){$("#exampleModal").modal("show"),this.orderDetails=n},deleteCustomer(n){Swal.fire({title:"Are You Sure!",text:"you watnt to delete this?",icon:"warning",confirmButtonColor:"#ddd",cancelButtonColor:"red",confirmButtonText:"Delete",showCancelButton:!0}).then(s=>{s.value&&(this.loading=!0,this.$axios.delete("/api/review/"+n).then(o=>{Toast.fire({icon:"success",title:o.data.message}),this.allOrder()}).catch(o=>{Toast.fire({icon:"error",title:o.response.statusText})}).finally(()=>this.loading=!1))}).catch(()=>{Swal.fire({icon:"success",title:"dont worry. your data is safe..."}),this.$router.push({name:"ManageEmployee"})})},isLogined(){User.loggedIn()||this.$router.push({name:"Login"})}},computed:{moment(){return y},totalQuantity(){let n=0;for(let s=0;s<this.review.length;s++)n+=this.review[s].quantity;return n},grandTotalAmount(){let n=0;for(let s=0;s<this.review.length;s++)n+=this.review[s].pay_bill;return n}},created(){this.isLogined(),this.allOrder()}},O={class:"card card-custom"},M=e("div",{class:"card-header flex-wrap py-5"},[e("div",{class:"card-title"},[e("h3",{class:"card-label"},"Product Question")])],-1),z={class:"card-body"},A={class:"table table-separate table-head-custom table-checkable",id:""},N=e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"ID"),e("th",null,"Customer"),e("th",null,"Product"),e("th",null,"Total"),e("th",{width:"20%"},"Review"),e("th",null,"Order Date"),e("th",null,"Actions")])],-1),V={class:"d-flex gap-3"},E=["src"],I={class:"d-flex flex-column"},F={class:"text-capitalize"},Q={class:"d-flex gap-2 flex-column"},R={class:"text-capitalize"},U=["onClick"],Z=B('<span class="svg-icon svg-icon-md"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"></rect><path d="M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z" fill="#000000" fill-rule="nonzero"></path><path d="M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z" fill="#000000" opacity="0.3"></path></g></svg></span>',1),j=[Z];function q(n,s,o,Y,l,r){var u,h,p,_,f;const x=w("router-link"),C=w("Pagination");return c(),d("div",null,[e("div",O,[M,e("div",z,[e("table",A,[N,e("tbody",null,[(c(!0),d(L,null,S((u=l.review)==null?void 0:u.data,(t,v)=>{var g;return c(),d("tr",{key:`single-order-${v}`},[e("td",null,a(v+1),1),e("td",null,[e("div",V,[e("img",{src:`https://ui-avatars.com/api/?background=random&rounded=true&color=fff&name=${t.name}&size=30`,alt:""},null,8,E),e("div",I,[e("h4",F,a(t==null?void 0:t.name),1),e("small",null,a(t==null?void 0:t.email),1)])])]),e("td",null,[m(x,{to:`/modify-product/${(g=t==null?void 0:t.product)==null?void 0:g.id}`},{default:P(()=>{var i;return[T(a((i=t==null?void 0:t.product)==null?void 0:i.title),1)]}),_:2},1032,["to"])]),e("td",null,a(t.rating)+" out of 5",1),e("td",null,[e("div",Q,[e("strong",R,a(t==null?void 0:t.title),1),e("p",null,a(t==null?void 0:t.review),1)])]),e("td",null,a(r.moment(t==null?void 0:t.created_at).format("lll")),1),e("td",null,[e("a",{href:"javascript:void(0)",onClick:i=>r.deleteCustomer(t.id),class:"btn btn-sm btn-clean btn-icon",title:"Delete"},j,8,U)])])}),128))])]),m(C,{onSomeEvent:r.allOrder,links:(h=l.review)==null?void 0:h.links,from:(p=l.review)==null?void 0:p.from,to:(_=l.review)==null?void 0:_.to,total:(f=l.review)==null?void 0:f.total,notShowNumber:!1},null,8,["onSomeEvent","links","from","to","total"])])])])}const J=k(D,[["render",q]]);export{J as default};
