import{_ as w,bJ as V,aV as S,c as i,a as e,w as N,b as d,v as m,b7 as h,H as p,bs as C,P as H,O as T,o as c,p as k,d as A,e as x}from"./app-cpAAYSkm.js";const U={name:"Add",components:{RequestLoading:V},data(){return{from:{name:"",email:"",phone:"",address:"",photo:null},errors:{},loading:!1}},methods:{uploadFile(t){let s=t.target.files[0],l=new FileReader;l.onload=n=>{this.from.photo=n.target.result},l.readAsDataURL(s)},saveCustomer(){this.loading=!0,this.$axios.post("api/customer?fromAdmin",this.from).then(t=>{this.from="",this.errors="",Toast.fire({icon:"success",title:t.data.message})}).catch(t=>{var s,l,n;console.log((l=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:l.errors),this.errors=(n=t.response.data)==null?void 0:n.errors,Toast.fire({icon:"warning",title:t.response.statusText})}).finally(()=>this.loading=!1)}},created(){User.loggedIn()||this.$router.push({name:"Login"})}},a=t=>(k("data-v-9b50cbe3"),t=t(),A(),t),E={class:"card card-custom"},F=a(()=>e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Add New Customer")],-1)),I={class:"card-body"},L={class:"form-group"},R=a(()=>e("label",null,[x("Name "),e("span",{class:"text-danger"},"*")],-1)),B={key:0,class:"text-danger"},M={class:"form-group"},P=a(()=>e("label",null,[x("Email "),e("span",{class:"text-danger"},"*")],-1)),q={key:0,class:"text-danger"},D=a(()=>e("label",null,"Phone",-1)),Z={class:"input-group mb-3"},J=T('<span class="input-group-text py-0 border-0" id="phone" data-v-9b50cbe3><div data-v-9b50cbe3><svg xmlns="http://www.w3.org/2000/svg" width="32" height="20" viewBox="0 0 32 32" data-v-9b50cbe3><rect x="1" y="4" width="30" height="24" rx="4" ry="4" fill="#2d694f" data-v-9b50cbe3></rect><path d="M27,4H5c-2.209,0-4,1.791-4,4V24c0,2.209,1.791,4,4,4H27c2.209,0,4-1.791,4-4V8c0-2.209-1.791-4-4-4Zm3,20c0,1.654-1.346,3-3,3H5c-1.654,0-3-1.346-3-3V8c0-1.654,1.346-3,3-3H27c1.654,0,3,1.346,3,3V24Z" opacity=".15" data-v-9b50cbe3></path><circle cx="16" cy="16" r="7" fill="#e13e47" data-v-9b50cbe3></circle><path d="M27,5H5c-1.657,0-3,1.343-3,3v1c0-1.657,1.343-3,3-3H27c1.657,0,3,1.343,3,3v-1c0-1.657-1.343-3-3-3Z" fill="#fff" opacity=".2" data-v-9b50cbe3></path></svg><span data-v-9b50cbe3>+8801</span></div></span>',1),O={key:0,class:"text-danger"},j={class:"form-group"},z=a(()=>e("label",{for:"exampleTextarea"},"Address",-1)),G={class:"form-group"},K=a(()=>e("label",null,"Photo",-1)),Q=["src"],W={class:"card-footer"},X={key:0},Y=a(()=>e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit",-1)),$=a(()=>e("button",{type:"reset",class:"btn btn-secondary"},"Cancel",-1)),ee=[Y,$];function oe(t,s,l,n,o,u){var f,_,b,v,g;const y=S("RequestLoading");return c(),i("div",null,[e("div",E,[F,e("form",{class:"form",onSubmit:s[5]||(s[5]=N(r=>u.saveCustomer(),["prevent"])),enctype:"multipart/form-data"},[e("div",I,[e("div",L,[R,d(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":s[0]||(s[0]=r=>o.from.name=r),placeholder:"Enter customer name..."},null,512),[[m,o.from.name]]),o.errors.name?(c(),i("small",B,h((f=o.errors)==null?void 0:f.name[0]),1)):p("",!0)]),e("div",M,[P,d(e("input",{type:"email",class:"form-control form-control-solid","onUpdate:modelValue":s[1]||(s[1]=r=>o.from.email=r),placeholder:"Enter email name..."},null,512),[[m,o.from.email]]),(_=o.errors)!=null&&_.email?(c(),i("small",q,h((b=o.errors)==null?void 0:b.email[0]),1)):p("",!0)]),e("div",null,[D,e("div",Z,[J,d(e("input",{type:"number",class:"form-control form-control-solid",placeholder:"Enter Phone Number",style:{appearance:"none"},"onUpdate:modelValue":s[2]||(s[2]=r=>o.from.phone=r),"aria-describedby":"phone"},null,512),[[m,o.from.phone]]),(v=o.errors)!=null&&v.phone?(c(),i("small",O,h((g=o.errors)==null?void 0:g.phone[0]),1)):p("",!0)])]),e("div",j,[z,d(e("textarea",{id:"exampleTextarea",class:"form-control form-control-solid","onUpdate:modelValue":s[3]||(s[3]=r=>o.from.address=r),rows:"3"},null,512),[[m,o.from.address]])]),e("div",G,[K,e("input",{type:"file",class:"form-control",onChange:s[4]||(s[4]=(...r)=>u.uploadFile&&u.uploadFile(...r))},null,32)]),d(e("img",{class:"preview-image",src:o.from.photo,alt:""},null,8,Q),[[C,o.from.photo]])]),e("div",W,[H(y,{isShow:o.loading},null,8,["isShow"]),o.loading?p("",!0):(c(),i("div",X,ee))])],32)])])}const te=w(U,[["render",oe],["__scopeId","data-v-9b50cbe3"]]);export{te as default};
