import{S as h}from"./SummernoteEditor-YXY0HYsX.js";import{_ as g}from"./TreeCategory-yz3vIs9N.js";import{_ as b,bJ as v,aV as u,c as r,a as s,H as a,P as l,w as y,b as x,v as L,b7 as _,o as i}from"./app-cpAAYSkm.js";const S={name:"Add",components:{RequestLoading:v,TreeCategory:g,SummernoteEditor:h},data(){return{isLoading:!1,from:{name:"",description:""},errors:{}}},methods:{saveCategory(){this.$axios.post("api/pages",this.from).then(t=>{this.from={},Toast.fire({icon:"success",title:"Created..."}),this.$router.push({name:"Pages"})}).catch(t=>{this.errors=t.response.data.errors,Toast.fire({icon:"warning",title:t.response.statusText})}).finally(t=>{this.isLoading=!1})}},created(){User.loggedIn()||this.$router.push({name:"Login"})}},w={class:"card card-custom"},C={class:"card-header"},V={class:"card-title d-flex gap-5"},k={key:0},T={class:"card-body"},E={class:"form-group"},P=s("label",null,"Page Title",-1),N=["disabled"],q={key:0,class:"text-danger"},B={class:"form-group"},R=s("label",null,"Page Content",-1),U={key:0,class:"text-danger"},A={class:"card-footer d-flex"},D={key:0,type:"submit",class:"btn btn-primary mr-2"},M=s("button",{type:"reset",class:"btn btn-secondary"},"Cancel",-1);function H(t,o,I,J,e,p){var c,m;const d=u("RequestLoading"),f=u("SummernoteEditor");return i(),r("div",null,[s("div",w,[s("div",C,[s("div",V,[e.isLoading?a("",!0):(i(),r("h3",k,"Add New Page")),l(d,{isShow:e.isLoading},null,8,["isShow"])])]),s("form",{class:"form",onSubmit:o[2]||(o[2]=y(n=>p.saveCategory(),["prevent"])),enctype:"multipart/form-data"},[s("div",T,[s("div",E,[P,x(s("input",{type:"text",disabled:e.isLoading,class:"form-control form-control-solid","onUpdate:modelValue":o[0]||(o[0]=n=>e.from.title=n),placeholder:"Enter page title..."},null,8,N),[[L,e.from.title]]),e.errors.title?(i(),r("small",q,_((c=e.errors)==null?void 0:c.title[0]),1)):a("",!0)]),s("div",B,[R,l(f,{modelValue:e.from.description,"onUpdate:modelValue":o[1]||(o[1]=n=>e.from.description=n),rows:"3"},null,8,["modelValue"]),e.errors.title?(i(),r("small",U,_((m=e.errors)==null?void 0:m.description[0]),1)):a("",!0)])]),s("div",A,[l(d,{isShow:e.isLoading},null,8,["isShow"]),e.isLoading?a("",!0):(i(),r("button",D,"Submit")),M])],32)])])}const G=b(S,[["render",H]]);export{G as default};
