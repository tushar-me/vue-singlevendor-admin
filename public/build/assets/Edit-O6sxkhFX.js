import{_ as p,c as d,a as e,w as m,b as h,v as u,b7 as f,H as g,o as c}from"./app-cpAAYSkm.js";const _={name:"Edit",data(){return{from:{id:"",title:"",photo:""},errors:{},file:""}},methods:{uploadFile(r){let t=r.target.files[0],s=new FileReader;s.onload=l=>{this.from.photo=l.target.result},s.readAsDataURL(t),this.file=t},updateCategory(){let r=this.$route.params.id,t=new FormData;t.append("id",this.from.id),t.append("image",this.file),t.append("title",this.from.title),this.$axios.post("/api/brand/update/"+r,t).then(s=>{this.from="",this.errors="",Toast.fire({icon:"success",title:s.data.message}),this.$router.push({name:"ManageBrand"})}).catch(s=>{this.errors=s.response.data.errors,Toast.fire({icon:"warning",title:s.response.statusText})})},isLogined(){User.loggedIn()||this.$router.push({name:"Login"})}},created(){this.isLogined();let r=this.$route.params.id;this.$axios.get("/api/brand/"+r).then(t=>{this.from=t.data}).catch(t=>{console.log(t.response.data)})}},b={class:"card card-custom"},y=e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Edit Brand")],-1),v={class:"card-body"},x={class:"form-group"},w=e("label",null,"Brand Name",-1),B={key:0,class:"text-danger"},F={class:"form-group"},C=e("label",null,"Photo",-1),D=["src"],E=e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit"),e("button",{type:"reset",class:"btn btn-secondary"},"Cancel")],-1);function L(r,t,s,l,o,i){var n;return c(),d("div",null,[e("div",b,[y,e("form",{class:"form",onSubmit:t[2]||(t[2]=m(a=>i.updateCategory(),["prevent"])),enctype:"multipart/form-data"},[e("div",v,[e("div",x,[w,h(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":t[0]||(t[0]=a=>o.from.title=a),placeholder:"Enter employee name..."},null,512),[[u,o.from.title]]),o.errors.title?(c(),d("small",B,f(o.errors.title[0]),1)):g("",!0)]),e("div",F,[C,e("input",{type:"file",class:"form-control",onChange:t[1]||(t[1]=(...a)=>i.uploadFile&&i.uploadFile(...a))},null,32)]),e("img",{src:(n=o.from.photo)!=null&&n.startsWith("upload")?"/storage/"+o.from.photo:o.from.photo,alt:"",class:"object-fit-contain",style:{width:"180px",height:"120px"}},null,8,D)]),E],32)])])}const k=p(_,[["render",L]]);export{k as default};
