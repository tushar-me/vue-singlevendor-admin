import{aQ as v,bH as le,aE as ne,c as d,a as e,F as K,aT as re,b7 as l,w as ie,b as _,v as u,bg as n,H as h,P as de,bJ as ce,o as c,O as W}from"./app-cpAAYSkm.js";const he={class:"card card-custom"},_e=e("div",{class:"card-title"},[e("h3",{class:"card-label"},"Order Areas ")],-1),ue={class:"card-body"},me={class:"table table-separate table-head-custom table-checkable"},pe=e("thead",{class:"table-light"},[e("tr",{class:"null"},[e("th",{class:"sorting"},"Id"),e("th",{class:"sorting"},"Area Name"),e("th",{class:"sorting"},"Area Code"),e("th",{class:"sorting"},"Delivery Charge"),e("th",{class:"sorting"},"Charge Condition"),e("th",{class:"sorting"},"Condition Price"),e("td")])],-1),ge=["onClick"],ve=W('<span class="svg-icon svg-icon-md"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"></rect><path d="M8,17.9148182 L8,5.96685884 C8,5.56391781 8.16211443,5.17792052 8.44982609,4.89581508 L10.965708,2.42895648 C11.5426798,1.86322723 12.4640974,1.85620921 13.0496196,2.41308426 L15.5337377,4.77566479 C15.8314604,5.0588212 16,5.45170806 16,5.86258077 L16,17.9148182 C16,18.7432453 15.3284271,19.4148182 14.5,19.4148182 L9.5,19.4148182 C8.67157288,19.4148182 8,18.7432453 8,17.9148182 Z" fill="#000000" fill-rule="nonzero" transform="translate(12.000000, 10.707409) rotate(-135.000000) translate(-12.000000, -10.707409) "></path><rect fill="#000000" opacity="0.3" x="5" y="20" width="15" height="2" rx="1"></rect></g></svg></span>',1),be=[ve],we=["onClick"],ye=W('<span class="svg-icon svg-icon-md"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"></rect><path d="M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z" fill="#000000" fill-rule="nonzero"></path><path d="M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z" fill="#000000" opacity="0.3"></path></g></svg></span>',1),fe=[ye],xe={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ce={class:"modal-dialog"},ke={class:"modal-content"},Ae={class:"card"},Le={class:"card-header"},Be={class:"card-body"},Me={class:"mb-1"},Se=e("label",{class:"form-label"},"Address",-1),$e={key:0,class:"text-danger"},De={class:"mb-1"},Ve=e("label",{class:"form-label"},"Area Code",-1),Ne={key:0,class:"text-danger"},Te={class:"mb-1"},Ue=e("label",{class:"form-label"},"Delivery Charge",-1),Ee={key:0,class:"text-danger"},ze={class:"mb-1"},Ie=e("label",{class:"form-label"},"Charge Condition",-1),Pe={key:0,class:"text-danger"},Fe={class:"mb-1"},Oe=e("label",{class:"form-label"},"Condition Price",-1),Ze={key:0,class:"text-danger"},He={class:"d-flex flex-wrap mb-0"},qe={key:0},Ge=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),Je=e("button",{type:"reset",class:"btn btn-outline-secondary ms-1","data-bs-dismiss":"modal","aria-label":"Close"},"Cancel",-1),Qe=[Ge,Je],je={__name:"Index",setup(Re){const i=User.userInfo(),b=v([]),{sendRequest:p,loading:w,error:r}=le(),a=v({id:null,area_name:null,area_code:null,delivery_charge:null,charge_condition:null,charge_condition_price:null}),m=v(!1),X=s=>{m.value=!1,$("#exampleModal").modal("show")},ee=async()=>{const s=await p({method:"POST",data:a.value,url:"/api/admin/areas-save",headers:{Authorization:`Bearer ${i==null?void 0:i.token}`}});s!=null&&s.message&&(await g(),a.value={},$("#exampleModal").modal("hide"),await Toast.fire({icon:"success",title:s==null?void 0:s.message}))},g=async()=>{b.value=await p({method:"get",url:"/api/admin/areas",headers:{Authorization:`Bearer ${i==null?void 0:i.token}`}})},te=s=>{Swal.fire({title:"Are You Sure!",text:"you watnt to delete this?",icon:"warning",confirmButtonColor:"#ddd",cancelButtonColor:"red",confirmButtonText:"Delete",showCancelButton:!0}).then(async o=>{o.value&&(await p({method:"GET",url:`/api/admin/delete-area/${s}`,headers:{Authorization:`Bearer ${i==null?void 0:i.token}`}}),await g(),await Toast.fire({icon:"success",title:res.data.message}))}).catch(()=>{Toast.fire({icon:"success",title:"Successfully Deleted..."})})},ae=async s=>{m.value=!0,a.value=s,$("#exampleModal").modal("show")};return ne(async()=>{await g()}),(s,o)=>{var y,f,x,C,k,A,L,B,M,S,D,V,N,T,U,E,z,I,P,F,O,Z,H,q,G,J,Q,R,Y,j;return c(),d(K,null,[e("div",null,[e("div",he,[e("div",{class:"card-header flex-wrap py-5"},[_e,e("div",{class:"card-tools"},[e("button",{class:"btn btn-primary",onClick:X},"Add New Area")])]),e("div",ue,[e("table",me,[pe,e("tbody",null,[(c(!0),d(K,null,re(b.value.data,(t,se)=>(c(),d("tr",{key:t.id},[e("td",null,l(se+1),1),e("td",null,l(t.area_name),1),e("td",null,l(t.area_code),1),e("td",null,l(t.delivery_charge),1),e("td",null,l(t.charge_condition??"........"),1),e("td",null,l(t.charge_condition_price??"........"),1),e("td",null,[e("button",{onClick:oe=>ae(t),class:"btn btn-sm btn-clean btn-icon",title:"Edit details"},be,8,ge),e("button",{class:"btn btn-sm btn-clean btn-icon",onClick:oe=>te(t==null?void 0:t.id),title:"Delete"},fe,8,we)])]))),128))])])])])]),e("div",xe,[e("div",Ce,[e("div",ke,[e("div",Ae,[e("div",Le,[e("h2",null,l(m.value?"Edit Address":"Add Address"),1)]),e("div",Be,[e("form",{onSubmit:ie(ee,["prevent"])},[e("div",Me,[Se,_(e("input",{class:"form-control readonly","onUpdate:modelValue":o[0]||(o[0]=t=>a.value.area_name=t),type:"text",placeholder:"e.g Area name"},null,512),[[u,a.value.area_name]]),(x=(f=(y=n(r))==null?void 0:y.response)==null?void 0:f.data)!=null&&x.errors.area_name?(c(),d("small",$e,l((A=(k=(C=n(r))==null?void 0:C.response)==null?void 0:k.data)==null?void 0:A.errors.area_name[0]),1)):h("",!0)]),e("div",De,[Ve,_(e("input",{class:"form-control readonly","onUpdate:modelValue":o[1]||(o[1]=t=>a.value.area_code=t),type:"text",placeholder:"e.g Area code"},null,512),[[u,a.value.area_code]]),(M=(B=(L=n(r))==null?void 0:L.response)==null?void 0:B.data)!=null&&M.errors.area_code?(c(),d("small",Ne,l((V=(D=(S=n(r))==null?void 0:S.response)==null?void 0:D.data)==null?void 0:V.errors.area_code[0]),1)):h("",!0)]),e("div",Te,[Ue,_(e("input",{class:"form-control readonly","onUpdate:modelValue":o[2]||(o[2]=t=>a.value.delivery_charge=t),type:"number",placeholder:"e.g Delivery charge for this area"},null,512),[[u,a.value.delivery_charge]]),(U=(T=(N=n(r))==null?void 0:N.response)==null?void 0:T.data)!=null&&U.errors.delivery_charge?(c(),d("small",Ee,l((I=(z=(E=n(r))==null?void 0:E.response)==null?void 0:z.data)==null?void 0:I.errors.delivery_charge[0]),1)):h("",!0)]),e("div",ze,[Ie,_(e("input",{class:"form-control readonly","onUpdate:modelValue":o[3]||(o[3]=t=>a.value.charge_condition=t),type:"number",placeholder:"e.g Charge Condition price"},null,512),[[u,a.value.charge_condition]]),(O=(F=(P=n(r))==null?void 0:P.response)==null?void 0:F.data)!=null&&O.errors.charge_condition?(c(),d("small",Pe,l((q=(H=(Z=n(r))==null?void 0:Z.response)==null?void 0:H.data)==null?void 0:q.errors.charge_condition[0]),1)):h("",!0)]),e("div",Fe,[Oe,_(e("input",{class:"form-control readonly","onUpdate:modelValue":o[4]||(o[4]=t=>a.value.charge_condition_price=t),type:"number",placeholder:"e.g Charge Condition price"},null,512),[[u,a.value.charge_condition_price]]),(Q=(J=(G=n(r))==null?void 0:G.response)==null?void 0:J.data)!=null&&Q.errors.charge_condition_price?(c(),d("small",Ze,l((j=(Y=(R=n(r))==null?void 0:R.response)==null?void 0:Y.data)==null?void 0:j.errors.charge_condition_price[0]),1)):h("",!0)]),e("div",He,[de(ce,{isShow:n(w),text:m.value?"Updating....":"Saved....."},null,8,["isShow","text"]),n(w)?h("",!0):(c(),d("div",qe,Qe))])],32)])])])])])],64)}}};export{je as default};
