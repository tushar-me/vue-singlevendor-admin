import{bL as b,aQ as d,aE as y,c as m,a as e,w as x,b as r,v as i,P as w,bJ as V,H as E,O as C,bI as h,o as v}from"./app-cpAAYSkm.js";const H={class:"card card-custom"},T=e("div",{class:"card-header"},[e("h3",{class:"card-title"},"Edit Customer")],-1),M={class:"card-body"},N={class:"form-group"},S=e("label",null,"Name",-1),U={class:"form-group"},B=e("label",null,"Email",-1),$=e("label",null,"Phone",-1),k={class:"input-group mb-3"},L=C('<span class="input-group-text py-0 border-0" id="phone"><div><svg xmlns="http://www.w3.org/2000/svg" width="32" height="20" viewBox="0 0 32 32"><rect x="1" y="4" width="30" height="24" rx="4" ry="4" fill="#2d694f"></rect><path d="M27,4H5c-2.209,0-4,1.791-4,4V24c0,2.209,1.791,4,4,4H27c2.209,0,4-1.791,4-4V8c0-2.209-1.791-4-4-4Zm3,20c0,1.654-1.346,3-3,3H5c-1.654,0-3-1.346-3-3V8c0-1.654,1.346-3,3-3H27c1.654,0,3,1.346,3,3V24Z" opacity=".15"></path><circle cx="16" cy="16" r="7" fill="#e13e47"></circle><path d="M27,5H5c-1.657,0-3,1.343-3,3v1c0-1.657,1.343-3,3-3H27c1.657,0,3,1.343,3,3v-1c0-1.657-1.343-3-3-3Z" fill="#fff" opacity=".2"></path></svg><span>+8801</span></div></span>',1),P={class:"form-group"},Z=e("label",{for:"exampleTextarea"},"Address",-1),I={class:"card-footer"},A={key:0},D=e("button",{type:"submit",class:"btn btn-primary mr-2"},"Submit",-1),J=e("button",{type:"reset",class:"btn btn-secondary"},"Cancel",-1),O=[D,J],j={__name:"Edit",setup(Q){const o=b(),c=d(null),s=d({full_name:null,email:null,phone:null,address:null,photo:null}),n=d(!1),f=()=>{User.loggedIn()||o.push({name:"Login"})},_=l=>{n.value=!0,h.get(`/api/customer/${l}`).then(t=>{var a,u,p;c.value=t.data,s.value=c.value,s.value.phone=(p=(u=(a=c.value)==null?void 0:a.phone)==null?void 0:u.split("+880"))==null?void 0:p[1],Toast.fire({icon:"success",title:"Customer data is now available for editing."})}).catch(t=>{console.error("Error fetching customer data:",t)}).finally(()=>n.value=!1)},g=()=>{var l;n.value=!0,h.put(`/api/customer/${(l=o==null?void 0:o.params)==null?void 0:l.id}`,s.value).then(t=>{Toast.fire({icon:"success",title:t.data.message}),o==null||o.push({name:"ManageCategory"})}).catch(t=>{Toast.fire({icon:"warning",title:t.response.statusText})}).finally(()=>n.value=!1)};return y(()=>{var l;f(),_((l=o==null?void 0:o.params)==null?void 0:l.id)}),(l,t)=>(v(),m("div",null,[e("div",H,[T,e("form",{class:"form",onSubmit:t[4]||(t[4]=x(a=>g(),["prevent"])),enctype:"multipart/form-data"},[e("div",M,[e("div",N,[S,r(e("input",{type:"text",class:"form-control form-control-solid","onUpdate:modelValue":t[0]||(t[0]=a=>s.value.full_name=a),placeholder:"Enter customer name..."},null,512),[[i,s.value.full_name]])]),e("div",U,[B,r(e("input",{type:"email",class:"form-control form-control-solid","onUpdate:modelValue":t[1]||(t[1]=a=>s.value.email=a),placeholder:"Enter customer name..."},null,512),[[i,s.value.email]])]),e("div",null,[$,e("div",k,[L,r(e("input",{type:"text",class:"form-control form-control-solid",placeholder:"Enter Phone Number",style:{appearance:"none"},"onUpdate:modelValue":t[2]||(t[2]=a=>s.value.phone=a),"aria-describedby":"phone"},null,512),[[i,s.value.phone]])])]),e("div",P,[Z,r(e("textarea",{id:"exampleTextarea",class:"form-control form-control-solid","onUpdate:modelValue":t[3]||(t[3]=a=>s.value.address=a),rows:"3"},null,512),[[i,s.value.address]])])]),e("div",I,[w(V,{isShow:n.value,text:"updating..."},null,8,["isShow"]),n.value?E("",!0):(v(),m("div",A,O))])],32)])]))}};export{j as default};
